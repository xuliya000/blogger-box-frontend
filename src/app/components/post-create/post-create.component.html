<div class="container mt-4">
    <h2>Create a New Post</h2>
  
    <form [formGroup]="postForm" (ngSubmit)="onSubmit()" novalidate>
  
      <!-- Title -->
      <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input id="title" class="form-control" formControlName="title"
               [ngClass]="{ 'is-invalid': f['title'].touched && f['title'].invalid, 'is-valid': isValid('title') }" />
        <div *ngIf="f['title'].touched && f['title'].invalid" class="invalid-feedback">
          <div *ngIf="f['title'].errors?.['required']">Title is required.</div>
          <div *ngIf="f['title'].errors?.['minlength']">Minimum 5 characters required.</div>
          <div *ngIf="f['title'].errors?.['maxlength']">Maximum 150 characters allowed.</div>
        </div>
      </div>
  
      <!-- Category -->
      <div class="mb-3">
        <label for="categoryId" class="form-label">Category</label>
        <select id="categoryId" class="form-select" formControlName="categoryId"
                [ngClass]="{ 'is-invalid': f['categoryId'].touched && f['categoryId'].invalid, 'is-valid': isValid('categoryId') }">
          <option value="" disabled>-- Select a category --</option>
          <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
        </select>
        <div *ngIf="f['categoryId'].touched && f['categoryId'].invalid" class="invalid-feedback">
          Category is required.
        </div>
      </div>
  
      <!-- Content -->
      <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <textarea id="content" rows="6" class="form-control" formControlName="content"
                  [ngClass]="{ 'is-invalid': f['content'].touched && f['content'].invalid, 'is-valid': isValid('content') }"></textarea>
        <div *ngIf="f['content'].touched && f['content'].invalid" class="invalid-feedback">
          <div *ngIf="f['content'].errors?.['required']">Content is required.</div>
          <div *ngIf="f['content'].errors?.['maxlength']">Maximum 2500 characters allowed.</div>
        </div>
      </div>
  
      <!-- Buttons -->
      <div class="d-flex justify-content-end gap-2 mt-3">
        <a class="btn btn-outline-danger" [routerLink]="['/']">Cancel</a>
        <button type="submit" class="btn btn-success" [disabled]="postForm.invalid">Create Post</button>
      </div>
    </form>
  </div>
  